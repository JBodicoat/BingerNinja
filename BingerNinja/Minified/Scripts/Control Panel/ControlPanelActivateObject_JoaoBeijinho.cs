using System.Collections;using UnityEngine;public class ControlPanelActivateObject_JoaoBeijinho : M{public enum ObjectType{Door,Light,StunLight,Computer,Freezer,SecurityCamera,}public ObjectType m_functionality;protected FreezerTrigger_JoaoBeijinho m_freezerArea;private BaseEnemy_SebastianMol m_baseEnemyScript;private ColorChanger_Jann m_colorChangerScript;private LevelScripting levelScripting;public int m_maxTicks;public float m_damageInterval;public float m_damageAmount;public float m_freezerCooldown;private bool m_freezerInUse = false;public bool[] m_pickColor = new bool[] {false, false, false};private Color m_color;public bool m_stunLight = false;public void ActivateObject(){switch (m_functionality){case ObjectType.Door:gameObject.GetComponent<Collider2D>().enabled = false;break;case ObjectType.Light:gameObject.GetComponent<SpriteRenderer>().enabled = !gameObject.GetComponent<SpriteRenderer>().enabled;break;case ObjectType.StunLight:if (gameObject.activeSelf == false){gameObject.SetActive(true);StunLight();}else {gameObject.SetActive(false);}break;case ObjectType.Computer:break;case ObjectType.Freezer:if (!m_freezerInUse){levelScripting.drawFreezer = true;SC(FreezerLockAndDamage());}break;case ObjectType.SecurityCamera:gameObject.GetComponent<CircleCollider2D>().enabled = false;break;}}private IEnumerator FreezerLockAndDamage(){m_freezerInUse = true;for (int i = 0; i < m_maxTicks; i++){foreach (Collider2D enemy in m_freezerArea.m_enemyList){m_baseEnemyScript = enemy.GetComponent<BaseEnemy_SebastianMol>();m_baseEnemyScript.StunEnemyWithDeleyFunc(m_damageInterval);m_baseEnemyScript.m_health -= m_damageAmount;m_baseEnemyScript.OnDeath();}yield return new WaitForSeconds(m_damageInterval);}levelScripting.drawFreezer = false;yield return new WaitForSeconds(m_freezerCooldown);}private void LightColor(){if (m_pickColor[0] == true){m_color = m_colorChangerScript.m_colorOutGrey60;}else if (m_pickColor[1] == true){m_color = m_colorChangerScript.m_colorOutGrey122;}else if (m_pickColor[2] == true){m_color = m_colorChangerScript.m_colorOutGrey174;}gameObject.GetComponent<SpriteRenderer>().color = m_color;}private void StunLight(){if (gameObject.activeSelf){m_stunLight = true;}else {m_stunLight = false;}}void Awake(){levelScripting = F("Player").GetComponent<LevelScripting>();m_freezerArea = FOT<FreezerTrigger_JoaoBeijinho>();m_colorChangerScript = FOT<ColorChanger_Jann>();if (gameObject.CompareTag(Tags_JoaoBeijinho.m_lightTag)){LightColor();}}}