using UnityEngine;using UnityEngine.UI;public class PlayerHealthHunger_MarioFernandes : M{protected float m_maxHealth = 100.0f;protected float m_currentHealth = 100.0f;protected float m_maxHunger = 100.0f;protected float m_currentHunger = 100.0f;public float m_fullnessDrainRate = 2.5f;protected float m_healthDrainRate = 7.5f;public bool m_paused = false;public Slider m_healthSlider;public Slider m_hungerSlider;private PlayerDeathEffect_Elliott m_DeathEffect;private PlayerController_JamieG m_PauseInput;public void Eat(float amount){m_currentHunger += amount;if(m_currentHunger > m_maxHunger){m_currentHunger = m_maxHunger;}m_hungerSlider.value = m_currentHunger;}public void Hit(float amount){m_currentHealth -= amount;if (m_currentHealth < 0)m_currentHealth = 0;if(m_currentHealth == 0){PlayTrack_Jann.Instance.PlaySound(AudioFiles.Sound_Death);m_DeathEffect.SpriteFlash();Die();}m_healthSlider.value = m_currentHealth;}public void Heal(float amount){m_currentHealth += amount;if(m_currentHealth > m_maxHealth){m_currentHealth = m_maxHealth;}m_healthSlider.value = m_currentHealth;}public void SetMaxHealth(float amount){m_maxHealth = amount;}public void IncreaseMaxHealt(float amount){m_maxHealth += amount;}public void DecreaseMaxHealt(float amount){m_maxHealth -= amount;}private void Die(){m_currentHealth = m_maxHealth;m_currentHunger = 100;HealAllEnemies();AllEnemiesLooseIntrest();SceneManager_JamieG.Instance.ResetToCheckpoint();}private void HealAllEnemies(){GameObject[] allEnemies = GameObject.FindGameObjectsWithTag(Tags_JoaoBeijinho.m_enemyTag);foreach (GameObject enemy in allEnemies){if(enemy.activeSelf){BaseEnemy_SebastianMol baseScript = enemy.GetComponent<BaseEnemy_SebastianMol>();baseScript.m_health = baseScript.m_maxHealth;}}}private void AllEnemiesLooseIntrest(){GameObject[] allEnemies = GameObject.FindGameObjectsWithTag(Tags_JoaoBeijinho.m_enemyTag);foreach (GameObject enemy in allEnemies){if (enemy.activeSelf){enemy.GetComponent<BaseEnemy_SebastianMol>().ForceLooseIntrest();}}}void Start(){m_healthSlider.maxValue = m_maxHealth;m_healthSlider.value = m_currentHealth;m_hungerSlider.maxValue = m_maxHunger;m_hungerSlider.value = m_currentHunger;m_DeathEffect = GetComponent<PlayerDeathEffect_Elliott>();m_PauseInput = GetComponent<PlayerController_JamieG>();}void Update(){if(!m_paused){m_currentHunger -= m_fullnessDrainRate * Time.deltaTime;m_hungerSlider.value = m_currentHunger;if (m_currentHunger < 0)m_currentHunger = 0;if (m_currentHunger == 0){Hit(m_healthDrainRate * Time.deltaTime);}}}}