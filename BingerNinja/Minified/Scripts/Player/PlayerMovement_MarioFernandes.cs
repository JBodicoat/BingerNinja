using System.Collections;using UnityEngine;public class PlayerMovement_MarioFernandes : M{protected Rigidbody2D m_rb;protected Vector2 m_direction = new Vector2(0, 0);protected Vector2 m_old_direction = new Vector2(0, 0);public float m_speed = 3.0f;public float m_roll_speed = 5f;public float m_baseSpeed = 3.0f;public bool isRolling= false;private PlayerAnimation_LouieWilliamson m_pAnimation;public void ResetSpeed(){m_speed = m_baseSpeed;}public void RollMovement(){m_pAnimation.RollAnimation(true);if (m_old_direction.y < 0){m_speed = m_roll_speed;m_direction.y -= m_speed;SC("RollTimer");}if (m_old_direction.y > 0){m_speed = m_roll_speed;m_direction.y += m_speed;SC("RollTimer");}if (m_old_direction.x < 0){m_speed = m_roll_speed;m_direction.x -= m_speed;SC("RollTimer");}if (m_old_direction.x > 0){m_speed = m_roll_speed;m_direction.x += m_speed;SC("RollTimer");}}public void RecieveVector(Vector2 vector){if (!isRolling){if (m_direction.x != 0 || m_direction.y != 0){m_old_direction = m_direction;}m_direction = vector;}}void Start(){ResetSpeed();Physics2D.gravity = Vector2.zero;m_rb = GetComponent<Rigidbody2D>();m_pAnimation = GetComponentInChildren<PlayerAnimation_LouieWilliamson>();}void Update(){m_direction.Normalize();m_direction *= m_speed;m_rb.velocity = m_direction;}IEnumerator RollTimer(){yield return new WaitForSeconds(1.0f);isRolling = false;m_pAnimation.RollAnimation(false);m_speed = m_baseSpeed;}}