using UnityEngine;using UnityEngine.SceneManagement;using UnityEngine.Tilemaps;public class WeightedPressurePad_JoaoBeijinho : M{public Collider2D m_doorCollider;public Sprite activatedPressurePad, inactivePressurePad;public TileBase m_downDoorPart, m_upDoorPart;string a = "Player";string b = "Crate";string c = "MeleeWeapon";Tilemap d, e;public bool m_activated;public WeightedPressurePad_JoaoBeijinho m_otherPressurePad;void Start(){d = F("Walls1_map").GetComponent<Tilemap>();e = F("Walls2_map").GetComponent<Tilemap>();}void OnTriggerEnter2D(Collider2D f){gameObject.GetComponent<SpriteRenderer>().sprite = inactivePressurePad;if (SceneManager.GetActiveScene().buildIndex == 17){if (f.tag == b){m_activated = true;if (m_otherPressurePad.m_activated){d.SetTile(new Vector3Int(31, 19, 0), null);d.SetTile(new Vector3Int(31, 20, 0), null);d.SetTile(new Vector3Int(31, 21, 0), null);e.SetTile(new Vector3Int(32, 20, 0), null);e.SetTile(new Vector3Int(32, 21, 0), null);e.SetTile(new Vector3Int(32, 22, 0), null);}}}if (SceneManager.GetActiveScene().buildIndex == 14){if (f.tag == a || f.tag == b || f.tag == c){d.SetTile(new Vector3Int(12, 26, 0), null);d.SetTile(new Vector3Int(12, 25, 0), null);d.SetTile(new Vector3Int(12, 24, 0), null);e.SetTile(new Vector3Int(13, 27, 0), null);e.SetTile(new Vector3Int(13, 26, 0), null);e.SetTile(new Vector3Int(13, 25, 0), null);}}}void OnTriggerExit2D(Collider2D g){gameObject.GetComponent<SpriteRenderer>().sprite = activatedPressurePad;if (SceneManager.GetActiveScene().buildIndex == 17){if (g.tag == b){if (!m_activated){d.SetTile(new Vector3Int(31, 19, 0), m_downDoorPart);d.SetTile(new Vector3Int(31, 20, 0), m_downDoorPart);d.SetTile(new Vector3Int(31, 21, 0), m_downDoorPart);e.SetTile(new Vector3Int(32, 20, 0), m_upDoorPart);e.SetTile(new Vector3Int(32, 21, 0), m_upDoorPart);e.SetTile(new Vector3Int(32, 22, 0), m_upDoorPart);}}}}}