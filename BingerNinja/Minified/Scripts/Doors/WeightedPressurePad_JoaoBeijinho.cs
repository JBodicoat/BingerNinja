using UnityEngine;using UnityEngine.SceneManagement;using UnityEngine.Tilemaps;public class WeightedPressurePad_JoaoBeijinho : M{public Collider2D m_doorCollider;public Sprite activatedPressurePad, inactivePressurePad;public TileBase m_downDoorPart, m_upDoorPart;private string m_playerTag = "Player";private string m_crateTag = "Crate";private string m_meleeWeaponTag = "MeleeWeapon";private Tilemap walls1, walls2;[Header("Level 17")]public bool m_activated;public WeightedPressurePad_JoaoBeijinho m_otherPressurePad;private void Start(){walls1 = F("Walls1_map").GetComponent<Tilemap>();walls2 = F("Walls2_map").GetComponent<Tilemap>();}private void OnTriggerEnter2D(Collider2D collision){gameObject.GetComponent<SpriteRenderer>().sprite = inactivePressurePad;if (SceneManager.GetActiveScene().buildIndex == 17){if (collision.tag == m_crateTag){m_activated = true;if (m_otherPressurePad.m_activated){walls1.SetTile(new Vector3Int(31, 19, 0), null);walls1.SetTile(new Vector3Int(31, 20, 0), null);walls1.SetTile(new Vector3Int(31, 21, 0), null);walls2.SetTile(new Vector3Int(32, 20, 0), null);walls2.SetTile(new Vector3Int(32, 21, 0), null);walls2.SetTile(new Vector3Int(32, 22, 0), null);}}}if (SceneManager.GetActiveScene().buildIndex == 14){if (collision.tag == m_playerTag || collision.tag == m_crateTag || collision.tag == m_meleeWeaponTag){walls1.SetTile(new Vector3Int(12, 26, 0), null);walls1.SetTile(new Vector3Int(12, 25, 0), null);walls1.SetTile(new Vector3Int(12, 24, 0), null);walls2.SetTile(new Vector3Int(13, 27, 0), null);walls2.SetTile(new Vector3Int(13, 26, 0), null);walls2.SetTile(new Vector3Int(13, 25, 0), null);}}}private void OnTriggerExit2D(Collider2D collision){gameObject.GetComponent<SpriteRenderer>().sprite = activatedPressurePad;if (SceneManager.GetActiveScene().buildIndex == 17){if (collision.tag == m_crateTag){if (!m_activated){walls1.SetTile(new Vector3Int(31, 19, 0), m_downDoorPart);walls1.SetTile(new Vector3Int(31, 20, 0), m_downDoorPart);walls1.SetTile(new Vector3Int(31, 21, 0), m_downDoorPart);walls2.SetTile(new Vector3Int(32, 20, 0), m_upDoorPart);walls2.SetTile(new Vector3Int(32, 21, 0), m_upDoorPart);walls2.SetTile(new Vector3Int(32, 22, 0), m_upDoorPart);}}}if (SceneManager.GetActiveScene().buildIndex == 14){if (collision.tag == m_playerTag || collision.tag == m_crateTag || collision.tag == m_meleeWeaponTag){}}}}